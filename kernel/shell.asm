BITS 64

;---Initialized data------------------------------------------------------------
keydown: db 0x01, 'esc',
            0x02, '1',
            0x03, '2',
            0x04, '3',
            0x05, '4',
            0x06, '5',
            0x07, '6',
            0x08, '7',
            0x09, '8',
            0x0a, '9',
            0x0b, '0',
            0x0c, '-',
            0x0d, '=',
            0x0e, 'del',
            0x0f, 'tab',
            0x10, 'q',
            0x11, 'w',
            0x12, 'e',
            0x13, 'r',
            0x14, 't',
            0x15, 'y',
            0x16, 'u',
            0x17, 'i',
            0x18, 'o',
            0x19, 'p',
            0x1a, '[',
            0x1b, ']',
            0x1c, 'ret',
            0x1d, '???',
            0x1e, 'a',
            0x1f, 's',
            0x20, 'd',
            0x21, 'f',
            0x22, 'g',
            0x23, 'h',
            0x24, 'j',
            0x25, 'k',
            0x26, 'l',
            0x27, ';',
            0x28, ''',
            0x29, '???',
            0x2a, 'lsh',
            0x2b, '\',
            0x2c, 'z',
            0x2d, 'x',
            0x2e, 'c',
            0x2f, 'v',
            0x30, 'b',
            0x31, 'n',
            0x32, 'm',
            0x33, ',',
            0x34, '.',
            0x35, '/',
            0x36, 'rsh',
            0x37, '???',
            0x38, 'opt',
            0x39, ' '

keyup:   db 0x81, 'esc',
            0x82, '1',
            0x83, '2',
            0x84, '3',
            0x85, '4',
            0x86, '5',
            0x87, '6',
            0x88, '7',
            0x89, '8',
            0x8a, '9',
            0x8b, '0',
            0x8c, '-',
            0x8d, '=',
            0x8e, 'del',
            0x8f, 'tab',
            0x90, 'q',
            0x91, 'w',
            0x92, 'e',
            0x93, 'r',
            0x94, 't',
            0x95, 'y',
            0x96, 'u',
            0x97, 'i',
            0x98, 'o',
            0x99, 'p',
            0x9a, '[',
            0x9b, ']',
            0x9c, 'ret',
            0x9d, '???',
            0x9e, 'a',
            0x9f, 's',
            0xa0, 'd',
            0xa1, 'f',
            0xa2, 'g',
            0xa3, 'h',
            0xa4, 'j',
            0xa5, 'k',
            0xa6, 'l',
            0xa7, ';',
            0xa8, ''',
            0xa9, '???',
            0xaa, 'lsh',
            0xab, '\',
            0xac, 'z',
            0xad, 'x',
            0xae, 'c',
            0xaf, 'v',
            0xb0, 'b',
            0xb1, 'n',
            0xb2, 'm',
            0xb3, ',',
            0xb4, '.',
            0xb5, '/',
            0xb6, 'rsh',
            0xb7, '???',
            0xb8, 'opt',
            0xb9, ' '

shell:
